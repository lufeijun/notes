# 服务容器
控制反转容器(Ioc)：用来管理类之间的依赖，在 laravel 中，我们称之为”服务容器“。



# 反射
反射是一种在运行时，动态解析类的能力，ex：php 的 ReflectionClass 可以检测给定类的所有属性和方法。
当某个类没有在服务容器内进行绑定时，laravel 框架就会利用 php 的反射机制去初始化所需要的类，具体步骤为：具体解析类 A

1. 容器是否绑定了 A 对应的实现类，有的话直接解析；
2. 没有，利用反射检测 A ，看看 A 的构造函数是否有类依赖。有的话进行递归调用解析
3. 使用 ReflectionClass->newInstanceArgs() 来创建一个 A 的类




# 重点理解
* Ioc 容器：控制反转容器让依赖注入更方便，它负责整个应用生命周期内解析和注入在容器中的类和接口
* laravel 在绑定是，都会封装成匿名函数，这样做的好处是用到该类时才会实例化，从而提升了应用的性能


# 疑问
如何实现，一个接口类拥有多个实现类，分不同场景使用不同的实现类，ex：系统通知接口实现，有邮件、短信等，怎么在通知 a 消息时用邮件，通知 b 消息时用短信。